(this.webpackJsonpmynearbyplaces=this.webpackJsonpmynearbyplaces||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),s=n.n(r),o=(n(23),n.p,n(24),n(15),n(18)),i=n(7),l=n.n(i),u=n(9),d=n(6),b=n(32),j=n(33),p=n(1);var h=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),i=o[0],l=o[1];return Object(p.jsxs)("div",{style:{border:"2px solid black"},children:[Object(p.jsx)("h3",{children:"Add a Place"}),Object(p.jsx)(b.a,{onSubmit:function(t){t.preventDefault(),e.onAddPlace(c,i),r(""),l("")},children:Object(p.jsxs)(b.a.Group,{controlId:"name",children:[Object(p.jsx)(b.a.Label,{children:"Name"}),Object(p.jsx)(b.a.Control,{value:c,type:"text",onChange:function(e){r(e.target.value)},placeholder:"Enter Name"}),Object(p.jsx)(b.a.Label,{children:"Address"}),Object(p.jsx)(b.a.Control,{value:i,type:"text",onChange:function(e){l(e.target.value)},placeholder:"Address"}),Object(p.jsx)(j.a,{type:"submit",children:"Submit"})]})})]})},f=n(31),O=[];var x=function(e){var t,n=Object(a.useState)(!1),c=Object(d.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(""),i=Object(d.a)(o,2),l=i[0],u=i[1],h=Object(a.useState)(""),f=Object(d.a)(h,2),O=f[0],x=f[1],m=Object(a.useState)(!1),v=Object(d.a)(m,2),y=v[0],g=v[1],w=Object(a.useState)(""),S=Object(d.a)(w,2),C=S[0],k=S[1];return Object(p.jsxs)("div",{style:{border:"2px solid black"},children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsx)("h5",{children:e.address}),Object(p.jsx)("h4",{children:"Reviews"}),null===(t=e.reviews)||void 0===t?void 0:t.map((function(e){return Object(p.jsx)("p",{children:e.review})})),Object(p.jsx)(j.a,{variant:"primary",onClick:function(){g(!y),s(!1)},children:"Add a Review"}),Object(p.jsx)(j.a,{variant:"primary",onClick:function(){s(!r),g(!1)},children:"Update Place"}),Object(p.jsx)(j.a,{variant:"danger",onClick:function(t){e.onDeletePlace(e.name)},children:" Delete Place"}),!0===r&&!1===y&&Object(p.jsx)(b.a,{onSubmit:function(t){t.preventDefault(),e.onUpdatePlace(e.name,l,O)},children:Object(p.jsxs)(b.a.Group,{controlId:"name",children:[Object(p.jsx)(b.a.Label,{children:"New Name"}),Object(p.jsx)(b.a.Control,{value:l,type:"text",onChange:function(e){u(e.target.value)},placeholder:"Enter Name"}),Object(p.jsx)(b.a.Label,{children:"New Address"}),Object(p.jsx)(b.a.Control,{value:O,type:"text",onChange:function(e){x(e.target.value)},placeholder:"Address"}),Object(p.jsx)(j.a,{type:"submit",children:"Submit Changes"})]})}),!0===y&&!1===r&&Object(p.jsxs)(b.a,{onSubmit:function(t){t.preventDefault(),e.addReview(e.name,C)},children:[Object(p.jsx)(b.a.Control,{as:"textarea",value:C,rows:3,placeholder:"Enter Review",onChange:function(e){k(e.target.value)}}),Object(p.jsx)(j.a,{type:"submit",children:"Submit"})]})]})};var m=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(d.a)(r,2),i=s[0],m=s[1],v=Object(a.useState)([]),y=Object(d.a)(v,2),g=y[0],w=y[1],S=Object(a.useState)([]),C=Object(d.a)(S,2),k=C[0],P=C[1];function A(){return(A=Object(u.a)(l.a.mark((function e(t,n){var a,c,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=k.slice(),e.next=3,fetch("https://brettbookbinder-mynearbyplaces.herokuapp.com/place",{method:"POST",body:JSON.stringify({name:t,address:n}),headers:{"Content-Type":"application/json"}});case 3:return c=e.sent,e.next=6,c.json();case 6:r=e.sent,console.log(r),a.push(r),P(a),""===i&&w([].concat(Object(o.a)(g),[r]));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t){return N.apply(this,arguments)}function N(){return(N=Object(u.a)(l.a.mark((function e(t,n){var a,c,r,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n),a=k.slice(),c=a.findIndex((function(e){return t===e.name})),r=Array.from(g),s=r.findIndex((function(e){return t===e.name})),console.log({allPlacesCopy:a}),console.log({copy:r}),a[c].reviews.push({review:n}),r[s]=a[c],w(r),P(a),e.next=13,fetch("https://brettbookbinder-mynearbyplaces.herokuapp.com/review/".concat(t),{method:"POST",body:JSON.stringify({review:n}),headers:{"Content-Type":"application/json"}});case 13:return o=e.sent,e.next=16,o.json();case 16:i=e.sent,console.log(i);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n){var a=O.findIndex((function(t){return e===t.name})),c=Array.from(g),r=c.findIndex((function(t){return e===t.name}));c[r].name=t,c[r].address=n,w(c),O[a].name=t,O[a].address=n}function L(e){var t=O.findIndex((function(t){return e===t.name}));O.splice(t,1);var n=Array.from(g),a=n.findIndex((function(t){return e===t.name}));n.splice(a,1),w(n)}function T(e){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=4;break}w(k),e.next=12;break;case 4:return e.next=6,fetch("https://brettbookbinder-mynearbyplaces.herokuapp.com/search/".concat(t,"/").concat(t));case 6:return n=e.sent,e.next=9,n.json();case 9:a=e.sent,console.log(a),w(a);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){function e(){return(e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://brettbookbinder-mynearbyplaces.herokuapp.com/places");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,P(n),console.log(n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsxs)(f.a,{fluid:!0,children:[Object(p.jsx)("h1",{children:"Nearby Places"}),Object(p.jsx)(j.a,{variant:"primary",onClick:function(){c(!n)},children:"Add A Place"}),Object(p.jsx)(j.a,{variant:"primary",onClick:function(){T("")},children:"Show All Places"}),!0===n&&Object(p.jsx)(h,{onAddPlace:function(e,t){return A.apply(this,arguments)}}),Object(p.jsxs)(b.a,{onSubmit:function(e){e.preventDefault(),T(i)},children:[Object(p.jsx)(b.a.Control,{onChange:function(e){m(e.target.value)},value:i,size:"lg",type:"text",placeholder:"Search for a place"}),Object(p.jsx)(j.a,{type:"submit",children:"Search"})]}),g.map((function(e){return Object(p.jsx)(x,{addReview:I,onUpdatePlace:D,onDeletePlace:L,name:e.name,address:e.address,reviews:e.reviews},e.name)}))]})};var v=function(){return Object(p.jsx)(m,{})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};s.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(v,{})}),document.getElementById("root")),y()}},[[30,1,2]]]);
//# sourceMappingURL=main.beb6948b.chunk.js.map